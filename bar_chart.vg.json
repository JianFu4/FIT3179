{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {"url": "https://raw.githubusercontent.com/JianFu4/FIT3179/main/merged_dataset.csv"},  
  "repeat": {
    "row": ["Access to clean fuels for cooking", "Electricity from fossil fuels (TWh)", "Access to electricity (% of population)","Value_co2_emissions_kt_by_country","Renewable energy share in the total final energy consumption (%)","Electricity from renewables (TWh)"],
    "column": ["Electricity from renewables (TWh)", "Renewable energy share in the total final energy consumption (%)","Value_co2_emissions_kt_by_country", "Access to electricity (% of population)","Electricity from fossil fuels (TWh)","Access to clean fuels for cooking"]
  }, 
  "spec": {
    "width":150,
    "height":120,
    "layer":[{
      "params": [{
        "name": "brush",
        "select": {"type": "interval", "resolve": "global"}
      },
      {
          "name": "year",
          "select": {"type": "point", "fields": ["Year"]},
          "bind": "legend"
        }
 ],
  "mark": "point",   
  "encoding": {
      "x": {"field": {"repeat": "column"}, "type": "quantitative"},
      "y": {
        "field": {"repeat": "row"},
        "type": "quantitative",
        "axis": {"minExtent": 30}
      },
      "color": {
        "condition": {
          "param": "brush",
          "field": "Year",
          "type": "nominal",
          "legend":{ "labelFontSize":12},
          "scale": {
              "scheme": "darkred"
              }
        },
        "value": "grey"
      },
      "opacity": {
          "condition": {"param": "year", "value": 0.3},
          "value": 0.005
    }
  }},
  {
    "mark": {
      "type": "line",
      "color": "yellow"
    },
    "transform": [
      {
        "regression": "Electricity from fossil fuels (TWh)",
        "on": "Value_co2_emissions_kt_by_country"
      }
    ],
    "encoding": {
      "x": {
        "field": {"repeat": "column"},
        "type": "quantitative"
      },
      "y": {
        "field": {"repeat": "row"},
        "type": "quantitative"
      }
    }
  
},
{
  "mark": {
    "type": "line",
    "color": "yellow"
  },
  "transform": [
    {
      "regression": "Electricity from fossil fuels (TWh)",
      "on": "Electricity from renewables (TWh)"
    }
  ],
  "encoding": {
    "x": {
      "field": {"repeat": "column"},
      "type": "quantitative"
    },
    "y": {
      "field": {"repeat": "row"},
      "type": "quantitative"
    }
  }

},
{
"mark": {
  "type": "line",
  "color": "yellow"
},
"transform": [
  {
    "regression": "Electricity from renewables (TWh)",
    "on": "Value_co2_emissions_kt_by_country"
  }
],
"encoding": {
  "x": {
    "field": {"repeat": "column"},
    "type": "quantitative"
  },
  "y": {
    "field": {"repeat": "row"},
    "type": "quantitative"
  }
}

},
{
"mark": {
  "type": "line",
  "color": "yellow"
},
"transform": [
  {
    "regression": "Access to clean fuels for cooking",
    "on": "Renewable energy share in the total final energy consumption (%)"
  }
],
"encoding": {
  "x": {
    "field": {"repeat": "column"},
    "type": "quantitative"
  },
  "y": {
    "field": {"repeat": "row"},
    "type": "quantitative"
  }
}

},
{
"mark": {
  "type": "line",
  "color": "yellow"
},
"transform": [
  {
    "regression": "Access to electricity (% of population)",
    "on": "Renewable energy share in the total final energy consumption (%)"
  }
],
"encoding": {
  "x": {
    "field": {"repeat": "column"},
    "type": "quantitative"
  },
  "y": {
    "field": {"repeat": "row"},
    "type": "quantitative"
  }
}

},
{
"mark": {
  "type": "line",
  "color": "yellow"
},
"transform": [
  {
    "regression": "Access to electricity (% of population)",
    "on": "Access to clean fuels for cooking"
  }
],
"encoding": {
  "x": {
    "field": {"repeat": "column"},
    "type": "quantitative"
  },
  "y": {
    "field": {"repeat": "row"},
    "type": "quantitative"
  }
}

}]
 
}
}
  